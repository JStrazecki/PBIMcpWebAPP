2025-08-03T14:03:49.9142005Z 2025-08-03 14:03:49,913 - pbi-mcp-simple - INFO - Successfully acquired Power BI access token
2025-08-03T14:03:49.9207359Z 169.254.132.1 - - [03/Aug/2025:14:03:49 +0000] "GET /health HTTP/1.1" 200 372 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"
2025-08-03T14:04:43.2925502Z 169.254.132.1 - - [03/Aug/2025:14:04:43 +0000] "POST / HTTP/1.1" 401 78 "-" "Claude-User"
2025-08-03T14:04:43.2926323Z 2025-08-03 14:04:43,291 - pbi-mcp-simple - INFO - Received JSON-RPC request at root: method=initialize
2025-08-03T14:04:43.2926363Z 2025-08-03 14:04:43,291 - pbi-mcp-simple - INFO - Auth check - User-Agent: Claude-User, Auth header: None...
2025-08-03T14:04:43.2926383Z 2025-08-03 14:04:43,291 - pbi-mcp-simple - WARNING - Invalid or missing auth header from Claude-User: None
2025-08-03T14:04:43.7131832Z 2025-08-03 14:04:43,713 - pbi-mcp-simple - INFO - Detected SSE request at root endpoint: Accept=text/event-stream
2025-08-03T14:04:43.7137812Z 2025-08-03 14:04:43,713 - pbi-mcp-simple - INFO - Auth check - User-Agent: Claude-User, Auth header: None...
2025-08-03T14:04:43.7140142Z 2025-08-03 14:04:43,713 - pbi-mcp-simple - WARNING - Invalid or missing auth header from Claude-User: None
2025-08-03T14:04:43.7161271Z 169.254.132.1 - - [03/Aug/2025:14:04:43 +0000] "GET / HTTP/1.1" 401 44 "-" "Claude-User"
2025-08-03T14:04:44.1513093Z 169.254.132.1 - - [03/Aug/2025:14:04:44 +0000] "POST / HTTP/1.1" 401 78 "-" "Claude-User"
2025-08-03T14:04:44.1513880Z 2025-08-03 14:04:44,149 - pbi-mcp-simple - INFO - Received JSON-RPC request at root: method=initialize
2025-08-03T14:04:44.1513986Z 2025-08-03 14:04:44,150 - pbi-mcp-simple - INFO - Auth check - User-Agent: Claude-User, Auth header: None...
2025-08-03T14:04:44.1514009Z 2025-08-03 14:04:44,150 - pbi-mcp-simple - WARNING - Invalid or missing auth header from Claude-User: None
2025-08-03T14:04:44.8391204Z 169.254.132.1 - - [03/Aug/2025:14:04:44 +0000] "GET / HTTP/1.1" 401 44 "-" "Claude-User"
2025-08-03T14:04:45.8383966Z 2025-08-03 14:04:44,568 - pbi-mcp-simple - INFO - Detected SSE request at root endpoint: Accept=text/event-stream
2025-08-03T14:04:45.8384204Z 2025-08-03 14:04:44,569 - pbi-mcp-simple - INFO - Auth check - User-Agent: Claude-User, Auth header: None...
2025-08-03T14:04:45.8384227Z 2025-08-03 14:04:44,569 - pbi-mcp-simple - WARNING - Invalid or missing auth header from Claude-User: None
2025-08-03T14:05:07.0488208Z 169.254.132.1 - - [03/Aug/2025:14:05:07 +0000] "HEAD / HTTP/1.1" 200 0 "-" "python-httpx/0.27.0"
2025-08-03T14:05:07.5094631Z 169.254.132.1 - - [03/Aug/2025:14:05:07 +0000] "GET /.well-known/oauth-protected-resource HTTP/1.1" 404 207 "-" "python-httpx/0.27.0"
2025-08-03T14:05:07.9007920Z 169.254.132.1 - - [03/Aug/2025:14:05:07 +0000] "GET /.well-known/oauth-authorization-server HTTP/1.1" 404 207 "-" "python-httpx/0.27.0"
2025-08-03T14:05:08.0972395Z 2025-08-03 14:05:08,096 - pbi-mcp-simple - INFO - OAuth authorize request: method=GET, client_id=5bdb10bc-bb29-4af9-8cb5-062690e6be15, redirect_uri=https://claude.ai/api/mcp/auth_callback, state=1zDEJg156ucxjp-iAwqfnM_FmrWIbecrmLkFRHzsBTM
2025-08-03T14:05:08.1054833Z 169.254.132.1 - - [03/Aug/2025:14:05:08 +0000] "GET /authorize?response_type=code&client_id=5bdb10bc-bb29-4af9-8cb5-062690e6be15&redirect_uri=https%3A%2F%2Fclaude.ai%2Fapi%2Fmcp%2Fauth_callback&code_challenge=_3MNhChR86aOQjTiv75S2_j0HjeQpZQic_rW5vkPDEE&code_challenge_method=S256&state=1zDEJg156ucxjp-iAwqfnM_FmrWIbecrmLkFRHzsBTM&scope=claudeai HTTP/1.1" 302 471 "https://claude.ai/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"
2025-08-03T14:05:08.1055273Z 2025-08-03 14:05:08,103 - pbi-mcp-simple - INFO - Generated auth code for client_id=5bdb10bc-bb29-4af9-8cb5-062690e6be15, redirecting to https://claude.ai/api/mcp/auth_callback
2025-08-03T14:05:08.9054189Z 169.254.132.1 - - [03/Aug/2025:14:05:08 +0000] "GET /.well-known/oauth-authorization-server HTTP/1.1" 404 207 "-" "python-httpx/0.27.0"
2025-08-03T14:05:09.3501240Z 2025-08-03 14:05:09,344 - pbi-mcp-simple - INFO - OAuth token request: grant_type=authorization_code, client_id=5bdb10bc-bb29-4af9-8cb5-062690e6be15
2025-08-03T14:05:09.3514772Z 2025-08-03 14:05:09,351 - pbi-mcp-simple - INFO - Validating credentials - Received client_id: '5bdb10bc-bb29-4af9-8cb5-062690e6be15', Expected: '5bdb10bc-bb29-4af9-8cb5-062690e6be15'
2025-08-03T14:05:09.3520325Z 2025-08-03 14:05:09,351 - pbi-mcp-simple - INFO - Client ID match: True
2025-08-03T14:05:09.3523011Z 2025-08-03 14:05:09,352 - pbi-mcp-simple - INFO - Client secret provided: Yes
2025-08-03T14:05:09.3525412Z 2025-08-03 14:05:09,352 - pbi-mcp-simple - INFO - Client secret match: True
2025-08-03T14:05:09.3527384Z 2025-08-03 14:05:09,352 - pbi-mcp-simple - INFO - Client 5bdb10bc-bb29-4af9-8cb5-062690e6be15 authenticated successfully
2025-08-03T14:05:09.3530085Z 2025-08-03 14:05:09,352 - pbi-mcp-simple - INFO - Returning token response: {"access_token": "TOKEN_HIDDEN", "token_type": "Bearer", "expires_in": 3600, "scope": "powerbi"}
2025-08-03T14:05:09.3626450Z 169.254.132.1 - - [03/Aug/2025:14:05:09 +0000] "POST /token HTTP/1.1" 200 164 "-" "python-httpx/0.27.0"
2025-08-03T14:05:12.1500534Z 169.254.132.1 - - [03/Aug/2025:14:05:12 +0000] "POST / HTTP/1.1" 200 169 "-" "Claude-User"
2025-08-03T14:05:12.1583967Z 2025-08-03 14:05:12,148 - pbi-mcp-simple - INFO - Received JSON-RPC request at root: method=initialize
2025-08-03T14:05:12.1584082Z 2025-08-03 14:05:12,148 - pbi-mcp-simple - INFO - Auth check - User-Agent: Claude-User, Auth header: Bearer nsf-x22EekFFhc2OkBpN8Ok...
2025-08-03T14:05:12.1584115Z 2025-08-03 14:05:12,148 - pbi-mcp-simple - INFO - Valid auth header detected from Claude-User
2025-08-03T14:05:12.1584135Z 2025-08-03 14:05:12,148 - pbi-mcp-simple - INFO - HTTP transport MCP request: method=initialize, id=0
2025-08-03T14:05:12.1584215Z 2025-08-03 14:05:12,148 - pbi-mcp-simple - INFO - Initialize request received - ID: 0, Params: {'protocolVersion': '2025-06-18', 'capabilities': {}, 'clientInfo': {'name': 'claude-ai', 'version': '0.1.0'}}
2025-08-03T14:05:12.1584243Z 2025-08-03 14:05:12,148 - pbi-mcp-simple - INFO - Initialize response: {"jsonrpc": "2.0", "id": 0, "result": {"protocolVersion": "2024-11-05", "capabilities": {"tools": {}, "logging": {}}, "serverInfo": {"name": "powerbi-mcp-server", "version": "1.0.0"}}}
2025-08-03T14:05:12.3811228Z 2025-08-03 14:05:12,376 - pbi-mcp-simple - INFO - Received JSON-RPC request at root: method=notifications/initialized
2025-08-03T14:05:12.3811582Z 2025-08-03 14:05:12,376 - pbi-mcp-simple - INFO - Auth check - User-Agent: Claude-User, Auth header: Bearer nsf-x22EekFFhc2OkBpN8Ok...
2025-08-03T14:05:12.3811610Z 2025-08-03 14:05:12,376 - pbi-mcp-simple - INFO - Valid auth header detected from Claude-User
2025-08-03T14:05:12.3811641Z 2025-08-03 14:05:12,376 - pbi-mcp-simple - INFO - HTTP transport MCP request: method=notifications/initialized, id=None
2025-08-03T14:05:12.3811659Z 2025-08-03 14:05:12,376 - pbi-mcp-simple - INFO - Received initialized notification - client ready
2025-08-03T14:05:12.3811734Z 2025-08-03 14:05:12,376 - pbi-mcp-simple - INFO - Waiting for Claude to call tools/list...
2025-08-03T14:05:12.3817305Z 169.254.132.1 - - [03/Aug/2025:14:05:12 +0000] "POST / HTTP/1.1" 200 3 "-" "Claude-User"
2025-08-03T14:05:12.7855273Z 2025-08-03 14:05:12,784 - pbi-mcp-simple - INFO - Detected SSE request at root endpoint: Accept=text/event-stream
2025-08-03T14:05:12.7855775Z 2025-08-03 14:05:12,784 - pbi-mcp-simple - INFO - Auth check - User-Agent: Claude-User, Auth header: Bearer nsf-x22EekFFhc2OkBpN8Ok...
2025-08-03T14:05:12.7855799Z 2025-08-03 14:05:12,784 - pbi-mcp-simple - INFO - Valid auth header detected from Claude-User
2025-08-03T14:05:12.7855815Z 2025-08-03 14:05:12,784 - pbi-mcp-simple - INFO - SSE endpoint accessed at root, starting event stream
2025-08-03T14:05:12.7855836Z 2025-08-03 14:05:12,784 - pbi-mcp-simple - INFO - SSE: Connection established, waiting for Claude to request tools via tools/list