# MCP Server Startup Commands (UPDATED WITH POWER BI INTEGRATION)

## Azure Deployment Commands:

# Simple server with Power BI client credentials:
gunicorn --bind=0.0.0.0:$PORT --workers 1 --timeout 600 --access-logfile - --error-logfile - --log-level info mcp_simple_server:app

# Authenticated server (user OAuth + Power BI):
gunicorn --bind=0.0.0.0:$PORT --workers 1 --timeout 600 --access-logfile - --error-logfile - --log-level info mcp_auth_server:app

## Environment Variables for Real Power BI Data:

# REQUIRED for both servers:
# AZURE_CLIENT_ID=your-app-registration-client-id
# AZURE_CLIENT_SECRET=your-app-registration-secret  
# AZURE_TENANT_ID=your-tenant-id

## Server Behaviors:

# Simple Server:
# - No user authentication required for Claude connection
# - Uses client credentials for Power BI access
# - Falls back to demo data if credentials not set
# - Connect Claude directly to: https://your-app.azurewebsites.net

# Auth Server:
# - Requires user to login with Microsoft OAuth
# - Uses client credentials for Power BI access
# - Requires authentication for all endpoints
# - Provides session-based access control

## Local Development:
# Simple server:
gunicorn --bind=0.0.0.0:8000 --workers 1 --timeout 600 --access-logfile - --error-logfile - --log-level info mcp_simple_server:app

# Authenticated server:
gunicorn --bind=0.0.0.0:8000 --workers 1 --timeout 600 --access-logfile - --error-logfile - --log-level info mcp_auth_server:app

## Power BI App Registration Setup:
# 1. Create App Registration in Azure Portal
# 2. Add API Permissions: Power BI Service -> Application permissions -> All required scopes
# 3. Grant admin consent for permissions
# 4. Create client secret
# 5. Add environment variables to Azure App Service

## LATEST UPDATES:
# ✅ Added real Power BI integration with client credentials
# ✅ Smart fallback to demo data when credentials not configured
# ✅ Real DAX query execution support
# ✅ Automatic detection of Power BI configuration status
# ✅ Works with your existing Azure client ID and secret
